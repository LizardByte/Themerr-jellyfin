<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Themerr</title>
    </head>

    <body>
        <div data-role="page" class="page type-interior pluginConfigurationPage tbsConfigurationPage"
            data-require="emby-input,emby-button">
            <div data-role="content">
                <div class="content-primary">
                    <form class="tbsConfigurationPage">
                        <div class="sectionTitleContainer flex align-items-center">
                            <h2 class="sectionTitle">Themerr</h2>
                            <a is="emby-linkbutton" class="raised button-alt headerHelpButton emby-button" target="_blank"
                                href="https://app.lizardbyte.dev/support">Help</a>
                        </div>
                        <div class="verticalSection">
                            <p>This plugin relies on the TMDB provider
                                Please make sure it is enabled!</p>
                            <br />
                        </div>
                        <br />
                        <button is="emby-button" type="button" class="raised block" id="refresh-library"
                            onclick=download()><span>Download Theme Songs</span></button>      
                    </form>
                </div>
            </div>
            
            <script type="text/javascript">
                function download() {
                    let request = {
                        url: ApiClient.getUrl('/Themerr/DownloadMovies'),
                        type: 'POST'
                    };
    
                    ApiClient.fetch(request).then(function () {
                        Dashboard.alert("Downloading Theme Songs...");
                    }).catch(function () {
                        Dashboard.alert({
                            message: "Unexpected error occurred!"
                        });
                    });
                }
            </script>
        </div>
    </body>
</html>
